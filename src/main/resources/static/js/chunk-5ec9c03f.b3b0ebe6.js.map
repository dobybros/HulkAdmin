{"version":3,"sources":["webpack:///./src/components/d2-markdown/index.vue?ef41","webpack:///./src/components/d2-markdown/plugin/baidupan.js","webpack:///./src/api/components.markdown.js","webpack:///src/components/d2-markdown/index.vue","webpack:///./src/components/d2-markdown/index.vue?fc51","webpack:///./src/components/d2-markdown/index.vue?014c","webpack:///./src/components/d2-markdown/index.vue?20b1","webpack:///./src/components/d2-markdown/index.vue","webpack:///./src/components/d2-markdown/index.vue?3a89","webpack:///./src/components/d2-markdown/index.vue?7fa2","webpack:///./node_modules/github-markdown-css/github-markdown.css?3d59"],"names":["quote","assetsPublicPath","_quote","replace","trim","bdPanUrl","bdPanUrlPwd","test","url","match","pwd","ComponentsMarkdownBase","request","baseURL","process","method"],"mappings":"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","file":"js/chunk-5ec9c03f.b3b0ebe6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"component-markdown\"},[(!_vm.markedHTML)?_c('div',{staticClass:\"spin-group\"},[_c('div',[_vm._v(\"正在加载\")])]):_vm._e(),_c('div',{staticClass:\"markdown-body\",domProps:{\"innerHTML\":_vm._s(_vm.markedHTML)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default (quote, assetsPublicPath) => {\n  const _quote = quote.replace(/<[^<>]+>/g, '').trim()\n  const bdPanUrl = /^https:\\/\\/pan\\.baidu\\.com\\/s\\/[a-z0-9]+$/i\n  const bdPanUrlPwd = /^链接: https:\\/\\/pan\\.baidu\\.com\\/s\\/[a-z0-9]+ 密码: [a-z0-9]{4}$/i\n  if (bdPanUrl.test(_quote)) {\n    return `<div class=\"baidupan\">\n      <a href=\"${_quote}\" class=\"container\">\n        <div class=\"icon\">\n          <img src=\"${assetsPublicPath}image/baidu-pan-logo.png\" style=\"background-color: transparent;\">\n        </div>\n        <div class=\"url\">${_quote}</div>\n      </a>\n    </div>`\n  } else if (bdPanUrlPwd.test(_quote)) {\n    const url = _quote.match(/https:\\/\\/pan\\.baidu\\.com\\/s\\/[a-z0-9]+/i)\n    const pwd = _quote.match(/[a-z0-9]{4}$/i)\n    return `<div class=\"baidupan\">\n      <div class=\"container\">\n        <a href=\"${url[0]}\">\n          <div class=\"icon\">\n            <img src=\"${assetsPublicPath}image/baidu-pan-logo.png\" style=\"background-color: transparent;\">\n          </div>\n          <div class=\"url\">${url[0]}</div>\n        </a>\n        <div class=\"line\"></div>\n        <div class=\"pwd\">\n          密码\n          <span>${pwd[0]}</span>\n        </div>\n      </div>\n    </div>`\n  } else {\n    return false\n  }\n}\n","import request from '@/plugin/axios'\n\nexport function ComponentsMarkdownBase (url) {\n  return request({\n    baseURL: process.env.BASE_URL,\n    url,\n    method: 'get'\n  })\n}\n","<template>\n  <div class=\"component-markdown\">\n    <div class=\"spin-group\" v-if=\"!markedHTML\">\n      <div>正在加载</div>\n    </div>\n    <div class=\"markdown-body\" v-html=\"markedHTML\"></div>\n  </div>\n</template>\n\n<script>\nimport marked from 'marked'\nimport highlight from 'highlight.js'\nimport '../highlight-styles/github-gist.css'\nimport bandupan from './plugin/baidupan'\nimport 'github-markdown-css'\nimport { ComponentsMarkdownBase } from '@api/components.markdown'\nexport default {\n  name: 'd2-markdown',\n  props: {\n    url: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    source: {\n      type: String,\n      required: false,\n      default: ''\n    },\n    highlight: {\n      type: Boolean,\n      required: false,\n      default: false\n    },\n    // 百度网盘分享链接特殊样式\n    baidupan: {\n      type: Boolean,\n      required: false,\n      default: true\n    }\n  },\n  data () {\n    return {\n      getReadmePublicPath: '',\n      markedHTML: ''\n    }\n  },\n  mounted () {\n    if (this.url) {\n      this.initWithUrl()\n    } else if (this.source) {\n      this.initWithMd()\n    } else {\n      console.log('not mounted init')\n    }\n  },\n  methods: {\n    // 使用 md 初始化\n    initWithMd () {\n      this.markedHTML = this.marked(this.source)\n    },\n    // 使用 url 初始化\n    async initWithUrl () {\n      this.markedHTML = await this.getReadme(this.url)\n    },\n    // 从 url 加载原始数据\n    async getReadme (url) {\n      const data = await ComponentsMarkdownBase(url)\n      return this.marked(data)\n    },\n    marked (data) {\n      const renderer = new marked.Renderer()\n      renderer.blockquote = (quote) => {\n        // 百度网盘\n        return (this.baidupan && bandupan(quote, this.$baseUrl)) || `<blockquote>${quote}</blockquote>`\n      }\n      return marked(data, {\n        ...this.highlight ? { highlight: (code) => highlight.highlightAuto(code).value } : {},\n        renderer\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.component-markdown {\n  .spin-group {\n    height: 100px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: column;\n    color: $color-primary;\n  }\n}\n// 百度云\n$baidupanHeight: 30px;\n$baidupanPadding: 10px;\n.baidupan {\n  overflow: hidden;\n  margin-bottom: 16px;\n  .container {\n    height: $baidupanHeight + 2 * $baidupanPadding;\n    border-radius: 4px;\n    border: 1px solid #dfe2e5;\n    padding: $baidupanPadding;\n    float: left;\n    cursor: pointer;\n    &:hover {\n      border: 1px solid $color-primary;\n      .line {\n        background-color: $color-primary;\n      }\n    }\n    .icon {\n      float: left;\n      height: $baidupanHeight;\n      text-align: center;\n      width: 40px;\n      margin-right: $baidupanPadding;\n      img {\n        width: 40px;\n      }\n    }\n    .url {\n      float: left;\n      height: $baidupanHeight;\n      line-height: $baidupanHeight;\n      color: $color-text-main;\n    }\n    .line {\n      float: left;\n      height: $baidupanHeight + 2 * $baidupanPadding;\n      width: 1px;\n      margin: -$baidupanPadding $baidupanPadding;\n      background-color: #dfe2e5;\n    }\n    .pwd {\n      float: left;\n      height: $baidupanHeight;\n      line-height: $baidupanHeight;\n    }\n  }\n}\n</style>\n\n<vue-filename-injector>\nexport default function (Component) {\n  Component.options.__source = \"src/components/d2-markdown/index.vue\"\n}\n</vue-filename-injector>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=script&lang=js&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nexport default function (Component) {\n  Component.options.__source = \"src/components/d2-markdown/index.vue\"\n}\n","import mod from \"-!../../../tools/vue-filename-injector/src/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=custom&index=0&blockType=vue-filename-injector\"; export default mod; export * from \"-!../../../tools/vue-filename-injector/src/lib/loader.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=custom&index=0&blockType=vue-filename-injector\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5ac33cfd&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./index.vue?vue&type=custom&index=0&blockType=vue-filename-injector\"\nif (typeof block0 === 'function') block0(component)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../tools/vue-filename-injector/src/lib/injector.js??ref--0-2!./index.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin"],"sourceRoot":""}